更新日:2024/12/02

新春けもケット11のサークルカットをアップロードすると、不備を検出するWebツールです。
ただし、全ての不備を網羅しているわけではありません。あくまで参考程度に留め、最終的にはご自身でチェックをしてください。

【使い方】
1. URL(" https://sea-umino.github.io/kemoket_circlecut_checker_skk11/ ")にアクセス
2. サークルカット（カタログ掲載部分と、右側の短冊がくっついた状態のもの。申し込み時にアップするものそのまま）をアップロードしてください（解析はブラウザ上でのみ行われます。アップした画像がどこかに送信されたり保存されたりはしません）
3. ちょっと待つと解析が完了します。不備が検出されると赤文字で[ERROR]から始まる警告文が表示されます。不備が検出されていないとき、「不備は検出されませんでした」と表示されます。
4. 解析が完了すると、このツールで検出できない不備の確認項目が表示されます。適宜ご活用ください。

【注意】
1. 現在、.pngにのみ対応しています。.jpg/.bmpもアップロードが可能ですが、高確率でエラーを誤検出します。また、.pngであったとしても仕様ソフトウェアやパソコンの仕様でエラーを誤検出する可能性があります。制作者がCLIP STUDIO PAINT EXのグレースケール出力およびRGB出力で.png画像として書き出したものを主にモデルとして解析プログラムを作成したためです。環境や画像圧縮方法が異なればエラーを検出するフラグに触れてしまう可能性があるため、このような仕様になっています。特に.jpg出力では制作者の環境でもエラーが誤検出されるのを確認しています。
2. このツールは新春けもケット11のサークルカットのみを解析可能です。チェックボックスの位置座標や枠線の色を力技で取得して解析に用いているため、他の開催回のサークルカットの解析はできません。要望と暇があれば次回以降のけもケット申込期間中にアップデートを行い、最新回に対応させます。
3. 制作者は運営側の人物ではないため、運営がどの程度まで不備を許容し、どこからを不備と見做して落選させているかは不明です。したがって、このツールで不備が出ても当選する、また不備が検出されなくとも不備落選する可能性があります。あらかじめご了承ください。


【対応している（と思っている）不備と検出仕様】
1. 画像サイズが3260px × 1370pxではない - 異なるサイズの画像をアップロードするとエラー文が表示され、他の処理を全て止める
2. 左上のスペースナンバー枠へ書き込みがある - 完全white以外のピクセルを検出する
3. 描きこみ不可の黒枠上までイラストが侵食している - [0,0]座標の黒枠の色を元にして、完全に一致しないピクセルが黒枠上に存在すると検出。ただし、描き込み可能部分との境界部分は画像圧縮の仕様で若干白に寄ることがあるので、白枠周囲1pxは判定を甘くしている。
4. サークルカットに透過ピクセルが含まれる（配布テンプレートの非表示や消しゴムでの誤消去等に起因する虞） - 一度全てのピクセルを走査して不透明度が254以下のものを検出する
5. サークルカットがモノクロ二階調で出力されている - 全てのピクセルを走査して、各RGB値が0または255と一致しないピクセルが1つも無ければモノクロと判断する
6. "メインとする趣向"や"配置希望ジャンル"のチェック漏れおよび多重チェック - チェックボックスの中に完全white以外のピクセルが存在すればその項目がチェックされているものと判断。二つ以上チェックされている、または一つもチェックされていなければエラーとして検出する。また、"その他版権"や"上記以外のジャンル"を選択した場合、補足記入欄への記入（完全white以外のピクセル数>=100）があるかどうかも併せて確認している。
7. サークルカットが新春けもケット11のものではない - 右下開催回番号が振られた枠内をOCRして文字列を取得。新春けもケット11(skk11)と異なればエラーとして検出。
8. チェックボックス内が塗りつぶされていない - チェック判定のあるチェックボックス内に、RGB値いずれかが128以上のピクセルがあれば塗りつぶし不十分として検出。
9. チェックボックスがレ点でチェックされている - 8.の塗りつぶし不十分判定に加えて、チェックボックス周囲に完全white以外のピクセルが存在すればはみ出し・汚れとして検出。これらはレ点によるチェックの可能性を示唆するものと考える。
